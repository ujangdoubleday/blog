{% extends "base.html" %} {% block meta %}
<!-- Schema.org JSON-LD for Blog -->
<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Blog",
    "name": "{{ config.site.title }}",
    "description": "{{ config.site.description }}",
    "url": "{{ config.site.url }}/",
    "author": {
      "@type": "Person",
      "name": "{{ config.site.author }}"
    },
    "publisher": {
      "@type": "Organization",
      "name": "{{ config.site.title }}",
      "url": "{{ config.site.url }}"
    }
  }
</script>
{% endblock %} {% block content %}
<div class="home">

  <!-- HR separator -->
  <hr class="home-separator">

  <!-- Categories section -->
  {% if categories %}
  <nav class="categories">
    <a href="/" class="category-link">all</a>
    {% for category in categories %}
    <a href="/{{ category }}/" class="category-link">{{ category }}</a>
    {% endfor %}
  </nav>
  {% endif %}

  <!-- HR separator after categories -->
  <hr class="home-separator">

  <!-- Posts list -->
  <section class="posts">
    {% if posts %} {% for post in posts %}
    <article class="post-item">
      <time class="post-date" datetime="{{ post.date.isoformat() }}">
        {{ post.date.strftime('%b %d, %Y').lower() }}
      </time>
      <h2 class="post-title">
        <a href="{{ post.url }}">{{ post.title }}</a>
      </h2>
    </article>
    {% endfor %}

    <!-- Pagination -->
    {% if pagination %}
    <nav class="pagination">
      {% if pagination.prev_url %}
      <a href="{{ pagination.prev_url }}" class="pagination-prev">← Newer posts</a>
      {% endif %}

      <span class="pagination-info">
        Page {{ pagination.current_page }} of {{ pagination.total_pages }}
      </span>

      {% if pagination.next_url %}
      <a href="{{ pagination.next_url }}" class="pagination-next">Older posts →</a>
      {% endif %}
    </nav>
    {% endif %} {% else %}
    <div class="no-posts">
      <p>No posts yet. Start writing!</p>
    </div>
    {% endif %}
  </section>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const headerTitle = document.getElementById('header-title');
    const siteTitle = '{{ config.site.title }}';

    // set initial title
    headerTitle.textContent = siteTitle;

    // update title when category link is clicked
    const categoryLinks = document.querySelectorAll('.category-link');
    categoryLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        const category = this.textContent.trim();
        if (category === 'all') {
          headerTitle.textContent = siteTitle;
        } else {
          headerTitle.textContent = category;
        }
      });
    });
  });
</script>
{% endblock %}
